<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Insert title here</title>
	<style>
		button {
  		  margin: auto;
  		  width: 20%;
		  border: none;
    	  color: black;
   		  background-color: #dfdfff;
    	  text-align: center;
    	  align: center;
		}
		.columnchart_values {
			margin: auto;
			width:200px;
			align: center;
			border: none;
		}
		.all{
			position: absolute;
			right:0;
			bottom: 0;
		}
	</style>
	    
	<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	
	<script type="text/javascript">
    google.charts.load("current", {packages:['corechart']});

    
    function drawChart(TotalProfit) {
      var data = google.visualization.arrayToDataTable(eval(TotalProfit));

      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);
      var options = {
    	title: "Comparison of TotalProfit of Cafe in Seoul sorted by Gu",
        width: 1200,
        height: 450,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
      };
      var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
      chart.draw(view, options);
  }

	function drawChart(LivingPeople) {
      var data = google.visualization.arrayToDataTable(eval(LivingPeople));

      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);

      var options = {
    		  title: "Comparison of LivingPeople in Seoul sorted by Gu",
    		  width: 1200,
    	        height: 450,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
      };
      var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
      chart.draw(view, options);
  }
	
    function drawChart(WorkingPeople) {
      var data = google.visualization.arrayToDataTable(eval(WorkingPeople));

      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);

      var options = {
    	title: "Comparison of WorkingPeople in Seoul sorted by Gu",
    	width: 1200,
        height: 450,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
      };
      var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
      chart.draw(view, options);
  }
    
    google.charts.load("current", {packages:['corechart']});
    
    function drawChart(MovingPeople) {
      var data = google.visualization.arrayToDataTable(eval(MovingPeople));

      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);

      var options = {
    	//title: "Comparison of MovingPeople in Seoul sorted by Gu",
    	//if(drawChart(MovingPeople)) =  title: "Comparison of MovingPeople in Seoul sorted by Gu";
        //else if(drawChart(LivingPeople)) = "Comparison of LivingPeople in Seoul sorted by Gu";
        //else if(drawChart(WorkingPeople)) = "Comparison of WorkingPeople in Seoul sorted by Gu";
        //else if(drawChart(TotalProfit)) = "Comparison of TotalProfit in Seoul sorted by Gu";,
        width: 1200,
        height: 450,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
      };
      var chart = new google.visualization.ColumnChart(document.getElementById("columnchart_values"));
      chart.draw(view, options);
  }
  </script>
  
</head>

<body>
	<h2 align=center>한 눈에 보기</h2>
	<div>
	<script type="text/javascript">
		function ajaxReq(chartNum) {
			var xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function(){
				if(this.readyState==4 & this.status==200){
					drawChart(this.responseText)
			}
		};
		var executeString
		if(chartNum == 1) executeString = "All/TotalProfit.jsp";
		else if(chartNum == 2) executeString = "All/LivingPeople.jsp";
		else if(chartNum == 3) executeString = "All/WorkingPeople.jsp";
		else if(chartNum == 4) executeString = "All/MovingPeople.jsp";
		else executeString = "cont?command=fail";		
		xhttp.open("Get",executeString, true);
		xhttp.send();
		}
	</script>

	<center>
	<button id="b1" onclick="ajaxReq(1)">행정구별 총 매출액</button>
	<button id="b2" onclick="ajaxReq(2)">행정구별 상주인구</button>
	<button id="b3" onclick="ajaxReq(3)">행정구별 직장인구</button>
	<button id="b4" onclick="ajaxReq(4)">행정구별 유동인구</button>
	</center>
	<!--
	<div class="menu_box" ><button type="button" id="TotalProfit" onclick="ajaxReq(TotalProfit)'" >전체 매출액</button></div>
	<script type="text/javascript">
	function ajaxReq(TotalProfit) {
		var xhttp = new XMLHttpRequest();
	
		xhttp.onreadystatechange = function(){
			if(this.readyState==4 & this.status==200){
				drawChart(this.responseText)
			}
		};
		xhttp.open("Get","All/TotalProfit.jsp", true);
		xhttp.send();
		}
	</script>
	
    <div class="menu_box" ><button type="button" id="LivingPeople" onclick="ajaxReq(LivingPeople)'">전체 상주인구</button></div>
	<script type="text/javascript">
	function ajaxReq(LivingPeople) {
		var xhttp = new XMLHttpRequest();
	
		xhttp.onreadystatechange = function(){
			if(this.readyState==4 & this.status==200){
				drawChart(this.responseText)
			}
		};
		xhttp.open("Get","All/LivingPeople.jsp", true);
		xhttp.send();
		}
	</script>
	
	<div class="menu_box"><button type="button"  id="WorkingPeople" onclick="ajaxReq(WorkingPeople.jsp)'">전체 직장인구</button></div>
	<script type="text/javascript">
	function ajaxReq(WorkingPeople) {
		var xhttp = new XMLHttpRequest();
	
		xhttp.onreadystatechange = function(){
			if(this.readyState==4 & this.status==200){
				drawChart(this.responseText)
			}
		};
		xhttp.open("Get","All/WorkingPeople.jsp", true);
		xhttp.send();
		}
	</script>
	
	<div class="menu_box" ><button type="button" id="MovingPeople" onclick="ajaxReq(MovingPeople)'">전체 유동인구</button></div>
	<script type="text/javascript">
	function ajaxReq(MovingPeople) {
		var xhttp = new XMLHttpRequest();
	
		xhttp.onreadystatechange = function(){
			if(this.readyState==4 & this.status==200){
				drawChart(this.responseText)
			}
		};
		xhttp.open("Get","All/MovingPeople.jsp", true);
		xhttp.send();
		}
	</script>
	-->
	
	<center><div id="columnchart_values"></div>
	</center>
	

	<button id="all" onclick="location.href='test.html'">전체 보기</button>
	</div>
</body>
</html>
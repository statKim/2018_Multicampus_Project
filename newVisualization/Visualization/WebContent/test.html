<!DOCTYPE>
<html>
<head>
<title></title>
<meta charset="utf-8">


 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
		
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Gender', 'Percentage'],
          ['Female',    98978],
          ['Male',      95232]
        ]);

        var options = {
          title: 'GangBook-Gu LivingPeople/Gender'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart1'));

        chart.draw(data, options);
      }
      
      
      
    </script>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart(v) {

        var data = google.visualization.arrayToDataTable([
          ['Age', 'Percentage'],
          ['10s',     24192],
          ['20s',      28198],
          ['30s',      28354],
          ['40s',      30726],
          ['50s',      33454],
          ['60s',      49285]
        ]);

        var options = {
          title: 'GangBook-Gu LivingPeople/Age'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart2'));

        chart.draw(data, options);
      }
      drawChart(24192);
    </script>
    
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
		
      function drawChart() {
    	  var data = google.visualization.arrayToDataTable([
              ['Gender', 'Percentage'],
              ['Female',    98978],
              ['Male',      95232]
            ]);

        var options = {
          title: 'GangBook-Gu MovingPeople/Gender'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart3'));

        chart.draw(data, options);
      }
      
      
      
    </script>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart(v) {

    	  var data = google.visualization.arrayToDataTable([
              ['Age', 'Percentage'],
              ['10s',     406189],
              ['20s',      1327488],
              ['30s',      990408],
              ['40s',      988293],
              ['50s',      1087480],
              ['60s',      934472]
            ]);

        var options = {
          title: 'GangBook-Gu MovingPeople/Age'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart4'));

        chart.draw(data, options);
      }
      drawChart(24192);
    </script>
    
    
     <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
		
      function drawChart() {
    	  var data = google.visualization.arrayToDataTable([
              ['Gender', 'Percentage'],
              ['Female',     2008115.481],
              ['Male',      1482290.662]
            ]);

        var options = {
          title: 'GangBook-Gu Profit/Gender'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart5'));

        chart.draw(data, options);
      }
      
      
      
    </script>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart(v) {

    	  var data = google.visualization.arrayToDataTable([
              ['Age', 'Percentage'],
              ['10s',     106681.901],
              ['20s',      1076095.617],
              ['30s',      927465.5511],
              ['40s',      682524.5375],
              ['50s',      494753.8888],
              ['60s',      202884.768]
            ]);

        var options = {
          title: 'GangBook-Gu Profit/Age'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart6'));

        chart.draw(data, options);
      }
      drawChart(24192);
    </script>
    
    
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
		
      function drawChart() {
    	  var data = google.visualization.arrayToDataTable([
              ['Gender', 'Percentage'],
              ['Female',     9713],
              ['Male',      10597]
            ]);

            var options = {
              title: 'GangBook-Gu WorkingPeople/Gender'
            };

        var chart = new google.visualization.PieChart(document.getElementById('piechart7'));

        chart.draw(data, options);
      }
      
      
      
    </script>
    
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart(v) {

    	  var data = google.visualization.arrayToDataTable([
              ['Age', 'Percentage'],
              ['10s',     72],
              ['20s',      2293],
              ['30s',      3686],
              ['40s',      5478],
              ['50s',      5519],
              ['60s',      3260]
            ]);

            var options = {
              title: 'GangBook-Gu WorkingPeople/Age'
            };
      

        var chart = new google.visualization.PieChart(document.getElementById('piechart8'));

        chart.draw(data, options);
      }
      drawChart(24192);
    </script>



<!-- d3 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"
	charset="utf-8"></script>
<!-- jQuery -->
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<!-- topoJson -->
<script src="http://d3js.org/topojson.v1.min.js"></script>
<!-- tooltipster -->
<script src="../javascript/jquery.tooltipster.min.js"></script>
<!-- data -->
<script src="seoul.js"></script>


<!-- custom css-->
<link rel="stylesheet" type="text/css" href="seoul.css">
<!-- tooltipster -->
<link rel="stylesheet" type="text/css" href="../css/tooltipster.css">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<style type="text/css">
	#myModal{
		display: none;
	}
</style>

</head>

<body>

	<button type="button" onclick="location.href='oneEye.html'">한 눈에 보기</button>
	<script type="text/javascript">
	
	
	var width = 900,
		height = 700;

	var svg = d3.select('body').append('svg')
				.attr('width',width)
				.attr('height',height);


	var map = svg.append('g').attr('id','map'),
		places = svg.append('g').attr('id','places');


	var projection = d3.geo.mercator()      //메르카르트 투영법
    	.center([126.9895, 37.5651])	      //센터 좌표
    	.scale(100000)					            //scale 
    	.translate([width/2, height/2]);    //좌표이동.
 
	var path = d3.geo.path().projection(projection); //path 만들고path 엘리먼트 사용하기 위함(다격형 그리기)
 


  	var features = topojson.feature(ko, ko.objects.seoul_municipalities_geo).features; //각 feautre 생성
  	
  	//var tempVar;
 	map.selectAll("path")	//path 그리는듯.
      	.data(features) 	//features 갯수 만큼 
    	.enter().append("path")	//path 만들고
      	.attr("class", function(d) { 
      		 return "municipality c" + d.properties.code ;
      	})
      	.attr("id", function (d){
      			return d.properties.code;
      	})
      	.attr("d", path)
      	.attr('title', function(d){return d.properties.name}); //툴팁 텍스트.
      	
 
 	//지역별 텍스트 달아주기
  	map.selectAll("text")
      	.data(features)
    	.enter().append("text")
      	.attr("transform", function(d) {
      		 return "translate(" + path.centroid(d) + ")"; 
      	})
      	.attr("dy", ".35em")
      	.attr("class", "municipality-label")
     	.text(function(d) {
     	 return d.properties.name; 
     });

  	
   //마우스 호버 이벤트
    $('path').hover(
      //마우스 오버시
      function(event){
    	//$(this).css('stroke','#f00').css('stroke-width',2);
    	$(this).css('stroke','#f00').css('stroke-width',2);
    //	$(this).attr('onclick', 'alert(1000)');
     	 
    	svg.selectAll("path").sort(function (a, b) { // select the parent and sort the path's
      		if ('c'+a.properties.code == $(event.target).attr('class').split(' ')[1]){    
      			$(event.target).attr('id', a.properties.code);
      			//alert()
      			return 1;  
      		}else{
            	return -1;
           }   //end of if
      	});//end of svg
      	
      },  //end of fun
      
      //마우스 아웃시
      function(event){
    	$(this).css('stroke','#fff');
     },	
    ); //end of hover
	
 $('path').click(function(){
	   alert(this.id);
	   document.getElementById("myModal").style.display = "block";
	}
	
 );//end of click */

	function modelClose(){
		document.getElementById("myModal").style.display = "none";
	}
 
 
	 document.getElementByid('demo').innerHTML = a.properties.code;
</script>

<!-- Modal -->
<div id="myModal" role="dialog" width="1200px">
 	 <div class="modal-dialog">
      Modal content
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" onclick="modelClose()">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
        <div id =demo></div>
         
    	<c:if test ="${a.properties.code ='11250'}">
         <table border="1" >
  	<tr><td >성별</td><td >연령대</td></tr>
  	<tr><td><div id="piechart1" style="width: 500px; height: 400px;"></div></td><td><div id="piechart2" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart3" style="width: 500px; height: 400px;"></div></td><td><div id="piechart4" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart5" style="width: 500px; height: 400px;"></div></td><td><div id="piechart6" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart7" style="width: 500px; height: 400px;"></div></td><td><div id="piechart8" style="width: 500px; height: 400px;"></div></td></tr>
  </table>
  </c:if>
  <c:if test ="${if ='11240'}">
         <table border="1" >
  	<tr><td >성별</td><td >연령대</td></tr>
  	<tr><td><div id="piechart1" style="width: 500px; height: 400px;"></div></td><td><div id="piechart2" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart3" style="width: 500px; height: 400px;"></div></td><td><div id="piechart4" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart5" style="width: 500px; height: 400px;"></div></td><td><div id="piechart6" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart7" style="width: 500px; height: 400px;"></div></td><td><div id="piechart8" style="width: 500px; height: 400px;"></div></td></tr>
  </table>
  </c:if>
  <c:if test ="${if ='11230'}">
         <table border="1" >
  	<tr><td >성별</td><td >연령대</td></tr>
  	<tr><td><div id="piechart1" style="width: 500px; height: 400px;"></div></td><td><div id="piechart2" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart3" style="width: 500px; height: 400px;"></div></td><td><div id="piechart4" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart5" style="width: 500px; height: 400px;"></div></td><td><div id="piechart6" style="width: 500px; height: 400px;"></div></td></tr>
  	<td> <div id="piechart7" style="width: 500px; height: 400px;"></div></td><td><div id="piechart8" style="width: 500px; height: 400px;"></div></td></tr>
  </table>
  </c:if>
        
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" onclick="modelClose()">Close</button>
        </div>
      </div>
      
    </div> 
</div>

</body>

</html>